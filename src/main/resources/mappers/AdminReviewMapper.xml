<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.middlepj.ict05.domain.admin.adminreview.dao.ReviewDAO"><!-- namespace="패키지명.인터페이스" -->
	
	<select id="userCheck" parameterType="String" resultType="int">
		SELECT COUNT(*) FROM MEMBER_TB 
		 WHERE MB_EMAIL = #{strId}
		   AND MB_GRADE = 'admin'
	</select>

	<!-- 게시글 갯수 구하기 -->
	<select id="boardCnt" resultType="int">
		SELECT COUNT(*) AS cnt
		FROM REVIEW_TB
	</select>
	
	<select id="reviewList" parameterType="java.util.Map" resultType="com.middlepj.ict05.domain.admin.adminreview.dto.ReviewDTO">
		SELECT * 
		FROM (SELECT A.*, 
			  		 rownum AS rn 
				FROM (SELECT * FROM REVIEW_TB
					   ORDER BY RV_ID DESC) A
					 )
			   WHERE rn BETWEEN #{start} AND #{end}
	</select>
</mapper> 